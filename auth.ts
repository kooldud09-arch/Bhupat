import { Router } from "express";import bcrypt from "bcryptjs";import { PrismaClient } from "@prisma/client";const prisma=new PrismaClient();const router=Router();router.post("/login", async (req,res)=>{const { email, password } = req.body; const user = await prisma.user.findUnique({ where: { email } }); if(!user) return res.status(401).json({ error: "Invalid credentials" }); const ok = await bcrypt.compare(password, user.password); if(!ok) return res.status(401).json({ error: "Invalid credentials" }); return res.json({ user: { id: user.id, name: user.name, email: user.email, role: user.role } }); }); export default router;